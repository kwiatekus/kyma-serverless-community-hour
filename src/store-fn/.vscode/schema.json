{"$schema":"http://json-schema.org/draft/2020-12/schema","$id":"https://github.com/kyma-incubator/hydroform/function/pkg/workspace/cfg","$ref":"#/$defs/Cfg","$defs":{"APIRule":{"properties":{"name":{"type":"string"},"gateway":{"type":"string"},"service":{"$ref":"#/$defs/Service"},"rules":{"items":{"$ref":"#/$defs/Rule"},"type":"array"}},"additionalProperties":false,"type":"object","required":["service","rules"]},"AccessStrategie":{"properties":{"config":{"$ref":"#/$defs/AccessStrategieConfig"},"handler":{"type":"string","enum":["oauth2_introspection","jwt","noop","allow"],"default":"allow"}},"additionalProperties":false,"type":"object","required":["handler"]},"AccessStrategieConfig":{"properties":{"jwksUrls":{"items":{"type":"string"},"type":"array"},"trustedIssuers":{"items":{"type":"string"},"type":"array"},"requiredScope":{"items":{"type":"string"},"type":"array"}},"additionalProperties":false,"type":"object"},"Cfg":{"properties":{"name":{"type":"string"},"namespace":{"type":"string"},"labels":{"patternProperties":{".*":{"type":"string"}},"type":"object"},"runtime":{"type":"string","enum":["nodejs12","nodejs14","python39"]},"source":{"$ref":"#/$defs/Source"},"resource":{"$ref":"#/$defs/Resources"},"subscriptions":{"items":{"$ref":"#/$defs/Subscription"},"type":"array"},"env":{"items":{"$ref":"#/$defs/EnvVar"},"type":"array"},"apiRules":{"items":{"$ref":"#/$defs/APIRule"},"type":"array"}},"additionalProperties":false,"type":"object","required":["name","namespace","runtime","source"]},"ConfigMapKeySelector":{"properties":{"name":{"type":"string"},"key":{"type":"string"}},"additionalProperties":false,"type":"object","required":["name","key"]},"EnvVar":{"properties":{"name":{"type":"string"},"value":{"type":"string"},"valueFrom":{"$ref":"#/$defs/EnvVarSource"}},"additionalProperties":false,"type":"object","required":["name"]},"EnvVarSource":{"properties":{"configMapKeyRef":{"$ref":"#/$defs/ConfigMapKeySelector"},"secretKeyRef":{"$ref":"#/$defs/SecretKeySelector"}},"additionalProperties":false,"type":"object"},"EventFilter":{"properties":{"eventSource":{"$ref":"#/$defs/EventSource"},"eventType":{"$ref":"#/$defs/EventType"}},"additionalProperties":false,"type":"object","required":["eventSource","eventType"]},"EventSource":{"properties":{"property":{"type":"string","default":"source"},"type":{"type":"string","default":"exact"},"value":{"type":"string","default":"\"\""}},"additionalProperties":false,"type":"object","required":["property","type","value"]},"EventType":{"properties":{"property":{"type":"string","default":"type"},"type":{"type":"string","default":"exact"},"value":{"type":"string"}},"additionalProperties":false,"type":"object","required":["property","type","value"]},"Filter":{"properties":{"dialect":{"type":"string"},"filters":{"items":{"$ref":"#/$defs/EventFilter"},"type":"array"}},"additionalProperties":false,"type":"object","required":["filters"]},"Resources":{"properties":{"limits":{"type":"object"},"requests":{"type":"object"}},"additionalProperties":false,"type":"object"},"Rule":{"properties":{"path":{"type":"string"},"methods":{"items":{"type":"string"},"type":"array"},"accessStrategies":{"items":{"$ref":"#/$defs/AccessStrategie"},"type":"array"}},"additionalProperties":false,"type":"object","required":["methods","accessStrategies"]},"SecretKeySelector":{"properties":{"name":{"type":"string"},"key":{"type":"string"}},"additionalProperties":false,"type":"object","required":["name","key"]},"Service":{"properties":{"host":{"type":"string"},"port":{"type":"integer"}},"additionalProperties":false,"type":"object","required":["host"]},"Source":{"properties":{"sourceType":{"type":"string","enum":["inline","git"]},"sourcePath":{"type":"string"},"sourceHandlerName":{"type":"string"},"depsHandlerName":{"type":"string"},"url":{"type":"string"},"repository":{"type":"string"},"reference":{"type":"string"},"baseDir":{"type":"string"},"credentialsSecretName":{"type":"string"},"credentialsType":{"type":"string"}},"additionalProperties":false,"type":"object","required":["sourceType"]},"Subscription":{"properties":{"name":{"type":"string"},"protocol":{"type":"string","default":"\"\""},"filter":{"$ref":"#/$defs/Filter"}},"additionalProperties":false,"type":"object","required":["protocol","filter"]}}}